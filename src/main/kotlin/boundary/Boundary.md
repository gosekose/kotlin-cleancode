# 경계

### 외부 코드 사용하기

- 인터페이스 제공자와 인터페이스 사용자 사이에는 특유의 긴장이 존재
- 패키지 제공자나 프레임워크 제공자는 적용성을 최대한 넓히려 애씀
- java.util.Map
    - Map은 다양한 인터페이스로 수많은 기능을 제공
    - Map을 여기저기 넘길 경우 Map의 내용을 삭제 및 수정할 권한 존재
    - Map이 반환하는 Object를 올바른 유형으로 반환할 책임은 Map을 사용할 클라이언트에게 있음
    - 제네릭을 사용하더라도 클린하지 못함
    - Map<String, Int> 등의 인스턴스를 그대로 넘길 경우 인터페이스 수정 시 수정할 코드 많아짐
- 경계 인터페이스인 Map을 사용할 클래스로 숨김
    - 인터페이스가 변하더라도 프로그램에 영향을 주지 않음
- 캡슐화 -> 일급 컬렉션

### 아직 존재하지 않는 코드를 사용하기

- 경계와 관련해 또 다른 유형은 아는 코드와 모르는 코드를 분리하는 경계
- 송신기 모듈을 만드는데, 아직 외부 API가 완성되지 않아 미지의 영역인경우 ?
    - 경계 인터페이스가 무엇인지 파악하기
        - 구현은 나중으로 미룸
    - 자체적으로 인터페이스를 정의함
        - TransMitter라는 간단한 클래스를 만듬
    - 인터페이스는 주파수와 자료 스트림을 입력으로 받음
    - 어댑터 패턴으로 API를 사용을 캡슐화해 API가 바뀔 때 수정할 코드를 한곳으로 모음

### 깨끗한 경계

- 경계에 위치하는 코드는 깔끔하게 분리해야 함
- 기대치를 정의하는 테스트 케이스도 필요
- 외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리
- 새로운 클래스로 경계를 감싸거나, ADAPTER 패턴을 사용하여 인터페이스를 패키지가 제공하는 인터페이스화 하기